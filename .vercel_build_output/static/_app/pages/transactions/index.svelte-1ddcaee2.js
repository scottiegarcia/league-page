import{S as F,i as M,s as N,W as O,aa as j,e as g,c as m,a as d,d as f,b as p,f as _,I as V,ab as W,x as b,u as k,F as B,t as w,g as y,Y as h,h as R,N as v,j as D,m as P,o as T,v as I,a9 as U,k as A,n as Y}from"../../chunks/vendor-60eb0dec.js";import{g as G}from"../../chunks/leagueTransactions-7f753bb7.js";import{w as S}from"../../chunks/news-c1036290.js";import{l as H}from"../../chunks/players-cc76d476.js";import"../../chunks/index.svelte_svelte&type=style&lang-b0d2c838.js";import{T as J}from"../../chunks/TransactionsPage-54e39fc7.js";import"../../chunks/leagueUsers-b0fdd0b7.js";import"../../chunks/nflState-b19b4ad8.js";import"../../chunks/Transaction-8f677ee9.js";import"../../chunks/universalFunctions-311859ab.js";import"../../chunks/navigation-51b348a1.js";import"../../chunks/singletons-ff603286.js";import"../../chunks/Pagination-34211372.js";function C(n){n[11]=n[15][0].transactions,n[12]=n[15][0].currentManagers,n[13]=n[15][0].stale,n[14]=n[15][1]}function K(n){let e,r,a=n[16].message+"",o;return{c(){e=g("p"),r=w("Something went wrong: "),o=w(a),this.h()},l(s){e=m(s,"P",{class:!0});var t=d(e);r=y(t,"Something went wrong: "),o=y(t,a),t.forEach(f),this.h()},h(){p(e,"class","center")},m(s,t){_(s,e,t),h(e,r),h(e,o)},p(s,t){t&24&&a!==(a=s[16].message+"")&&R(o,a)},i:v,o:v,d(s){s&&f(e)}}}function Q(n){C(n);let e,r;return e=new J({props:{playersInfo:n[14],stale:n[13],transactions:n[11],currentManagers:n[12],masterOffset:n[7],show:n[0],query:n[1],queryPage:n[2],perPage:$,postUpdate:!0}}),{c(){D(e.$$.fragment)},l(a){P(e.$$.fragment,a)},m(a,o){T(e,a,o),r=!0},p(a,o){C(a);const s={};o&24&&(s.playersInfo=a[14]),o&24&&(s.stale=a[13]),o&24&&(s.transactions=a[11]),o&24&&(s.currentManagers=a[12]),o&128&&(s.masterOffset=a[7]),o&1&&(s.show=a[0]),o&2&&(s.query=a[1]),o&4&&(s.queryPage=a[2]),e.$set(s)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){I(e,a)}}}function X(n){let e,r,a,o,s,t;return s=new U({props:{indeterminate:!0}}),{c(){e=g("div"),r=g("p"),a=w("Loading league transactions..."),o=A(),D(s.$$.fragment),this.h()},l(l){e=m(l,"DIV",{class:!0});var i=d(e);r=m(i,"P",{});var c=d(r);a=y(c,"Loading league transactions..."),c.forEach(f),o=Y(i),P(s.$$.fragment,i),i.forEach(f),this.h()},h(){p(e,"class","loading svelte-1mup0xu")},m(l,i){_(l,e,i),h(e,r),h(r,a),h(e,o),T(s,e,null),t=!0},p:v,i(l){t||(b(s.$$.fragment,l),t=!0)},o(l){k(s.$$.fragment,l),t=!1},d(l){l&&f(e),I(s)}}}function Z(n){let e,r,a,o,s;O(n[8]);let t={ctx:n,current:null,token:null,hasCatch:!0,pending:X,then:Q,catch:K,value:15,error:16,blocks:[,,,]};return j(r=S(n[4],n[3]),t),{c(){e=g("div"),t.block.c(),this.h()},l(l){e=m(l,"DIV",{id:!0,class:!0});var i=d(e);t.block.l(i),i.forEach(f),this.h()},h(){p(e,"id","main"),p(e,"class","svelte-1mup0xu")},m(l,i){_(l,e,i),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n[9](e),a=!0,o||(s=V(window,"resize",n[8]),o=!0)},p(l,[i]){n=l,t.ctx=n,i&24&&r!==(r=S(n[4],n[3]))&&j(r,t)||W(t,n,i)},i(l){a||(b(t.block),a=!0)},o(l){for(let i=0;i<3;i+=1){const c=t.blocks[i];k(c)}a=!1},d(l){l&&f(e),t.block.d(),t.token=null,t=null,n[9](null),o=!1,s()}}}async function ge({page:n}){const e=n.query.get("show"),r=n.query.get("query"),a=n.query.get("page"),o=G(!1),s=H(),t=["undefined"],l={show:"both",query:"",playersData:s,transactionsData:o,page:0};return e&&(e=="trade"||e=="waiver"||e=="both")&&(l.show=e),r&&!t.includes(r)&&(l.query=r),a&&!isNaN(a)&&(l.page=parseInt(a)-1),{props:l}}const $=10;function x(n,e,r){let{show:a,query:o,page:s,playersData:t,transactionsData:l}=e,i,c;const E=u=>{r(7,c=(i==null?void 0:i.getBoundingClientRect())?i==null?void 0:i.getBoundingClientRect().left:0)};let q;function L(){r(5,q=window.innerWidth)}function z(u){B[u?"unshift":"push"](()=>{i=u,r(6,i)})}return n.$$set=u=>{"show"in u&&r(0,a=u.show),"query"in u&&r(1,o=u.query),"page"in u&&r(2,s=u.page),"playersData"in u&&r(3,t=u.playersData),"transactionsData"in u&&r(4,l=u.transactionsData)},n.$$.update=()=>{n.$$.dirty&32&&E()},[a,o,s,t,l,q,i,c,L,z]}class me extends F{constructor(e){super();M(this,e,x,Z,N,{show:0,query:1,page:2,playersData:3,transactionsData:4})}}export{me as default,ge as load};
