import{ae as n}from"./vendor-60eb0dec.js";import{p as r}from"./news-c1036290.js";const y=async(l=!1)=>{if(n(r)[1426])return{players:n(r),stale:!1};const s=Math.round(new Date().getTime()/1e3),e=JSON.parse(localStorage.getItem("playersInfo"));let t=parseInt(localStorage.getItem("expiration"));if(e&&e[1426]&&t&&s>t&&!l)return{players:e,stale:!0};if(!e||!t||s>t){const o=await fetch("/api/fetch_players_info",{compress:!0}),a=await o.json();if(!o.ok)throw new Error(a);localStorage.setItem("playersInfo",JSON.stringify(a));const p=Math.round(new Date().getTime()/1e3)+24*3600;return localStorage.setItem("expiration",p),r.update(()=>a),{players:a,stale:!1}}return r.update(()=>e),{players:e,stale:!1}};export{y as l};
