import{C as a,ae as p}from"./vendor-60eb0dec.js";const B=a({}),M=a({}),R=a({}),j=a([]),E=a({}),I=a({}),x=a({}),N=a({}),C=a({}),T=a({}),H=a({}),u=a([]),P=a([]),Y=a({}),L=a({}),D=t=>t.catch(n=>({error:n})),$=async(...t)=>Promise.all(t.map(D)),y="https://www.nbcsportsedge.com/edge/api/player_news?sort=-created&page%5Blimit%5D=10&page%5Boffset%5D=0&filter%5Bleague.meta.drupal_internal__id%5D=21&include=player,position,team,team.secondary_logo,player.image,related_players,related_teams",A="https://www.reddit.com/r/DynastyFF/new.json",S="./api/fetch_serverside_news",q=async(t=!1)=>{if(p(u)[0]&&!t)return{articles:p(u),fresh:!1};const n=[h(y,F),fetch(S,{compress:!0})];n.push(h(A,k));const[s,r,o]=await $(...n).catch(e=>{console.error(e)}),c=await r.json().catch(e=>{console.error(e)}),i=[...s,...o,...c].sort((e,l)=>e.ts<l.ts?1:-1);return u.update(()=>i),{articles:i,fresh:!0}},h=async(t,n)=>{const s=await fetch(t,{compress:!0}).catch(o=>{console.error(o)}),r=await s.json().catch(o=>{console.error(o)});if(s.ok)return n(r.data);throw new Error(r)},F=t=>{let n=[];for(const s of t){const r=Date.parse(s.attributes.changed),o=new Date(r),c=w(o);n.push({title:s.attributes.headline,article:`${s.attributes.news.processed}${s.attributes.analysis?s.attributes.analysis.processed:""}`,link:s.attributes.source_url,author:s.attributes.source,ts:r,date:c,icon:"newsIcons/nbcSportsEdge.jpeg"})}return n},k=t=>{var c;const n=["AutoModerator","FFBot","Brookskbrothers","FTAKJ"],s=["","self","thumbnail","default"];let r=[];const o=t.children;for(const i of o){const e=i.data;if(n.includes(e.author))continue;const l=e.created_utc*1e3,g=new Date(l),b=s.includes(e.thumbnail)?`newsIcons/${e.subreddit}.png`:e.thumbnail,_=w(g);let d=`<a href="${e.url}" class="body-link">${e.url}</a>`;e.selftext_html&&(d=m(e.selftext_html)),((c=e.secure_media_embed)==null?void 0:c.content)&&m(e.secure_media_embed.content),r.push({title:e.title,article:d,link:`https://www.reddit.com${e.permalink}`,author:`${e.subreddit_name_prefixed} - u/${e.author}`,ts:l,date:_,icon:b})}return r};var f={nbsp:" ",cent:"\xA2",pound:"\xA3",yen:"\xA5",euro:"\u20AC",copy:"\xA9",reg:"\xAE",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};function m(t){return t.replace(/\&([^;]+);/g,function(n,s){let r;return s in f?f[s]:(r=s.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(r[1],16)):(r=s.match(/^#(\d+)$/))?String.fromCharCode(~~r[1]):n})}const w=t=>`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()} ${t.getHours()%12}:${(t.getMinutes()<10?"0":"")+t.getMinutes()}${t.getHours()/12>=1?"PM":"AM"}`;export{B as a,I as b,L as c,Y as d,R as e,j as f,q as g,P as h,M as l,E as m,T as n,H as p,x as r,w as s,N as t,C as u,$ as w};
